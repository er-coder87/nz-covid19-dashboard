{"ast":null,"code":"import XLSX from 'xlsx';\nimport axios from 'axios';\nexport const getData = () => {\n  /* set up XMLHttpRequest */\n  var url = 'https://www.health.govt.nz/system/files/documents/pages/covid-19-case-details-update-4-april-2020.xlsx';\n  var oReq = new XMLHttpRequest();\n  oReq.open('GET', url, true);\n  oReq.responseType = 'arraybuffer';\n  axios.get(`https://www.health.govt.nz/system/files/documents/pages/covid-19-case-details-update-4-april-2020.xlsx`).then(result => {\n    console.log('calling from axios');\n    console.log(result);\n  });\n\n  oReq.onload = function (e) {\n    var arraybuffer = oReq.response;\n    /* convert data to binary string */\n\n    var data = new Uint8Array(arraybuffer);\n    var arr = [];\n\n    for (var i = 0; i !== data.length; ++i) arr[i] = String.fromCharCode(data[i]);\n\n    var bstr = arr.join('');\n    /* Call XLSX */\n\n    var workbook = XLSX.read(bstr, {\n      type: 'binary'\n    });\n    /* DO SOMETHING WITH workbook HERE */\n\n    var first_sheet_name = workbook.SheetNames[0];\n    /* Get worksheet */\n\n    var worksheet = workbook.Sheets[first_sheet_name];\n    console.log(XLSX.utils.sheet_to_json(worksheet, {\n      raw: true\n    }));\n  };\n\n  oReq.send();\n};","map":{"version":3,"sources":["/Users/eric.lim/dev/scratch/e-commerce-app/src/data/getData.ts"],"names":["XLSX","axios","getData","url","oReq","XMLHttpRequest","open","responseType","get","then","result","console","log","onload","e","arraybuffer","response","data","Uint8Array","arr","i","length","String","fromCharCode","bstr","join","workbook","read","type","first_sheet_name","SheetNames","worksheet","Sheets","utils","sheet_to_json","raw","send"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,OAAO,GAAG,MAAM;AAC3B;AACA,MAAIC,GAAG,GACL,wGADF;AAEA,MAAIC,IAAI,GAAG,IAAIC,cAAJ,EAAX;AACAD,EAAAA,IAAI,CAACE,IAAL,CAAU,KAAV,EAAiBH,GAAjB,EAAsB,IAAtB;AACAC,EAAAA,IAAI,CAACG,YAAL,GAAoB,aAApB;AAEAN,EAAAA,KAAK,CACFO,GADH,CAEK,wGAFL,EAIGC,IAJH,CAIQC,MAAM,IAAI;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACD,GAPH;;AASAN,EAAAA,IAAI,CAACS,MAAL,GAAc,UAAUC,CAAV,EAAa;AACzB,QAAIC,WAAW,GAAGX,IAAI,CAACY,QAAvB;AAEA;;AACA,QAAIC,IAAI,GAAG,IAAIC,UAAJ,CAAeH,WAAf,CAAX;AACA,QAAII,GAAG,GAAG,EAAV;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,KAAKH,IAAI,CAACI,MAA3B,EAAmC,EAAED,CAArC,EAAwCD,GAAG,CAACC,CAAD,CAAH,GAASE,MAAM,CAACC,YAAP,CAAoBN,IAAI,CAACG,CAAD,CAAxB,CAAT;;AACxC,QAAII,IAAI,GAAGL,GAAG,CAACM,IAAJ,CAAS,EAAT,CAAX;AAEA;;AACA,QAAIC,QAAQ,GAAG1B,IAAI,CAAC2B,IAAL,CAAUH,IAAV,EAAgB;AAC7BI,MAAAA,IAAI,EAAE;AADuB,KAAhB,CAAf;AAIA;;AACA,QAAIC,gBAAgB,GAAGH,QAAQ,CAACI,UAAT,CAAoB,CAApB,CAAvB;AACA;;AACA,QAAIC,SAAS,GAAGL,QAAQ,CAACM,MAAT,CAAgBH,gBAAhB,CAAhB;AACAlB,IAAAA,OAAO,CAACC,GAAR,CACEZ,IAAI,CAACiC,KAAL,CAAWC,aAAX,CAAyBH,SAAzB,EAAoC;AAClCI,MAAAA,GAAG,EAAE;AAD6B,KAApC,CADF;AAKD,GAvBD;;AAyBA/B,EAAAA,IAAI,CAACgC,IAAL;AACD,CA3CM","sourcesContent":["import XLSX from 'xlsx';\nimport axios from 'axios';\n\nexport const getData = () => {\n  /* set up XMLHttpRequest */\n  var url =\n    'https://www.health.govt.nz/system/files/documents/pages/covid-19-case-details-update-4-april-2020.xlsx';\n  var oReq = new XMLHttpRequest();\n  oReq.open('GET', url, true);\n  oReq.responseType = 'arraybuffer';\n\n  axios\n    .get(\n      `https://www.health.govt.nz/system/files/documents/pages/covid-19-case-details-update-4-april-2020.xlsx`,\n    )\n    .then(result => {\n      console.log('calling from axios');\n      console.log(result);\n    });\n\n  oReq.onload = function (e) {\n    var arraybuffer = oReq.response;\n\n    /* convert data to binary string */\n    var data = new Uint8Array(arraybuffer);\n    var arr = [];\n    for (var i = 0; i !== data.length; ++i) arr[i] = String.fromCharCode(data[i]);\n    var bstr = arr.join('');\n\n    /* Call XLSX */\n    var workbook = XLSX.read(bstr, {\n      type: 'binary',\n    });\n\n    /* DO SOMETHING WITH workbook HERE */\n    var first_sheet_name = workbook.SheetNames[0];\n    /* Get worksheet */\n    var worksheet = workbook.Sheets[first_sheet_name];\n    console.log(\n      XLSX.utils.sheet_to_json(worksheet, {\n        raw: true,\n      }),\n    );\n  };\n\n  oReq.send();\n};\n"]},"metadata":{},"sourceType":"module"}